Index: app/src/main/java/com/example/applock/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.applock;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button allAppsBtn, lockedAppsBtn, homeBtn, settingsBtn, notificationsBtn;\r\n\r\n\r\n\r\n    @SuppressLint({\"WrongViewCast\", \"MissingInflatedId\"})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        androidx.appcompat.widget.Toolbar toolbar = (Toolbar) findViewById(R.id.toolBar);\r\n        setSupportActionBar(toolbar);\r\n\r\n\r\n        allAppsBtn = findViewById(R.id.allAppsBtn);\r\n        lockedAppsBtn = findViewById(R.id.lockedAppsBtn);\r\n        homeBtn = findViewById(R.id.homeBtn);\r\n        settingsBtn = findViewById(R.id.settingsBtn);\r\n        notificationsBtn= findViewById(R.id.notificationsBtn);\r\n\r\n        allAppsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new AllAppsFragment());\r\n            }\r\n        });\r\n\r\n        lockedAppsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new LockedAppsFragment());\r\n            }\r\n        });\r\n\r\n        homeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new AllAppsFragment());\r\n            }\r\n        });\r\n        settingsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new SettingsFragment());\r\n            }\r\n        });\r\n        notificationsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new NotificationFragment());\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n    private void replaceFragment(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.fragmentContainerView, fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/applock/MainActivity.java b/app/src/main/java/com/example/applock/MainActivity.java
--- a/app/src/main/java/com/example/applock/MainActivity.java	(revision f5a4d091f360ea5760f46d0ecf414fccbf7b2d2b)
+++ b/app/src/main/java/com/example/applock/MainActivity.java	(date 1688212996472)
@@ -19,7 +19,6 @@
 
 
 
-    @SuppressLint({"WrongViewCast", "MissingInflatedId"})
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -27,8 +26,6 @@
 
 
 
-        androidx.appcompat.widget.Toolbar toolbar = (Toolbar) findViewById(R.id.toolBar);
-        setSupportActionBar(toolbar);
 
 
         allAppsBtn = findViewById(R.id.allAppsBtn);
Index: app/src/main/java/com/example/applock/AllAppsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.applock;\r\n\r\nimport android.os.Bundle;\r\nimport androidx.fragment.app.Fragment;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\npublic class AllAppsFragment extends Fragment {\r\n\r\n    View view;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        view = inflater.inflate(R.layout.fragment_all_apps, container, false);\r\n        return view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/applock/AllAppsFragment.java b/app/src/main/java/com/example/applock/AllAppsFragment.java
--- a/app/src/main/java/com/example/applock/AllAppsFragment.java	(revision f5a4d091f360ea5760f46d0ecf414fccbf7b2d2b)
+++ b/app/src/main/java/com/example/applock/AllAppsFragment.java	(date 1688212724837)
@@ -1,20 +1,96 @@
 package com.example.applock;
 
+import android.content.pm.ApplicationInfo;
+import android.content.pm.PackageManager;
+import android.os.AsyncTask;
 import android.os.Bundle;
+
+import androidx.annotation.Nullable;
 import androidx.fragment.app.Fragment;
+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
+
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.ListView;
+
+import com.google.android.material.snackbar.Snackbar;
+
+import java.util.ArrayList;
+import java.util.List;
 
 public class AllAppsFragment extends Fragment {
 
-    View view;
+    ListView listView;
+    SwipeRefreshLayout swipeRefreshLayout;
+    boolean mIncludeSystemApps;
+
+    @Override
+    public void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        listView = (ListView) getView().findViewById(R.id.listView);
+        swipeRefreshLayout = (SwipeRefreshLayout) getView().findViewById(R.id.swipeToRefresh);
+        listView.setTextFilterEnabled(true);
+
+        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {
+            @Override
+            public void onRefresh() {
+                refreshIt();
+
+            }
+        });
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        LoadAppInfoTask loadAppInfoTask = new LoadAppInfoTask();
+        loadAppInfoTask.execute(PackageManager.GET_META_DATA);
+    }
+
+    private void refreshIt() {
+        LoadAppInfoTask loadAppInfoTask = new LoadAppInfoTask();
+        loadAppInfoTask.execute(PackageManager.GET_META_DATA);
+    }
+
+    class LoadAppInfoTask extends AsyncTask<Integer, Integer, List<AppInfo>>{
+
+        @Override
+        protected void onPreExecute() {
+            super.onPreExecute();
+            swipeRefreshLayout.setRefreshing(true);
+        }
 
+        @Override
+        protected List<AppInfo> doInBackground(Integer... integers) {
+            List<AppInfo> apps = new ArrayList<>();
+            PackageManager packageManager = getActivity().getPackageManager();
+            List<ApplicationInfo> infos = packageManager.getInstalledApplications(integers[0]);
+
+            for(ApplicationInfo info:infos){
+                if(mIncludeSystemApps && (info.flags & ApplicationInfo.FLAG_SYSTEM)==1){
+                    continue;
+                }
+                AppInfo app = new AppInfo();
+                app.info = info;
+                app.label = (String) info.loadLabel(packageManager);
+                apps.add(app);
+            }
+            //Sort the data
+            return apps;
+        }
+
+        @Override
+        protected void onPostExecute(List<AppInfo> appInfos) {
+            super.onPostExecute(appInfos);
+            listView.setAdapter(new AppAdapter(AllAppsFragment.this.getContext(), appInfos));
+            swipeRefreshLayout.setRefreshing(false);
+
+        }
+    }
+
     @Override
-    public View onCreateView(LayoutInflater inflater, ViewGroup container,
-                             Bundle savedInstanceState) {
-        // Inflate the layout for this fragment
-        view = inflater.inflate(R.layout.fragment_all_apps, container, false);
-        return view;
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        return inflater.inflate(R.layout.fragment_all_apps, container, false);
     }
 }
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n}\r\n\r\nandroid {\r\n    namespace 'com.example.applock'\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.applock\"\r\n        minSdk 27\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.appcompat:appcompat:1.6.1'\r\n    implementation 'com.google.android.material:material:1.8.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    //noinspection GradleCompatible\r\n    implementation 'com.google.android.material:material:1.0.0'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\r\n}\r\ndependencies {\r\n    implementation \"androidx.swiperefreshlayout:swiperefreshlayout:1.1.0\"\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision f5a4d091f360ea5760f46d0ecf414fccbf7b2d2b)
+++ b/app/build.gradle	(date 1688215084428)
@@ -42,3 +42,11 @@
 dependencies {
     implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
 }
+android {
+    buildTypes {
+        customDebugType {
+            debuggable true
+
+        }
+    }
+}
Index: app/src/main/res/layout/fragment_all_apps.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".AllAppsFragment\"\r\n    android:id=\"@+id/fragment_all_apps\"\r\n    android:background=\"@color/dark_blue\">\r\n\r\n    <Toolbar\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/toolBar\" />\r\n\r\n\r\n    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=\"@+id/swipeToRefresh\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <ListView\r\n            android:id=\"@+id/listView\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"></ListView>\r\n\r\n    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_all_apps.xml b/app/src/main/res/layout/fragment_all_apps.xml
--- a/app/src/main/res/layout/fragment_all_apps.xml	(revision f5a4d091f360ea5760f46d0ecf414fccbf7b2d2b)
+++ b/app/src/main/res/layout/fragment_all_apps.xml	(date 1688209923109)
@@ -8,12 +8,6 @@
     android:id="@+id/fragment_all_apps"
     android:background="@color/dark_blue">
 
-    <Toolbar
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:id="@+id/toolBar" />
-
-
     <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
         android:id="@+id/swipeToRefresh"
         android:layout_width="match_parent"
@@ -22,7 +16,7 @@
         <ListView
             android:id="@+id/listView"
             android:layout_width="match_parent"
-            android:layout_height="match_parent"></ListView>
+            android:layout_height="match_parent" />
 
     </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
 
Index: .idea/deploymentTargetDropDown.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetDropDown\">\r\n    <targetSelectedWithDropDown>\r\n      <Target>\r\n        <type value=\"QUICK_BOOT_TARGET\" />\r\n        <deviceKey>\r\n          <Key>\r\n            <type value=\"VIRTUAL_DEVICE_PATH\" />\r\n            <value value=\"C:\\Users\\d.abulashvili\\.android\\avd\\Pixel_6_API_27.avd\" />\r\n          </Key>\r\n        </deviceKey>\r\n      </Target>\r\n    </targetSelectedWithDropDown>\r\n    <timeTargetWasSelectedWithDropDown value=\"2023-02-25T08:28:10.121000300Z\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
--- a/.idea/deploymentTargetDropDown.xml	(revision f5a4d091f360ea5760f46d0ecf414fccbf7b2d2b)
+++ b/.idea/deploymentTargetDropDown.xml	(date 1693570330131)
@@ -12,6 +12,6 @@
         </deviceKey>
       </Target>
     </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2023-02-25T08:28:10.121000300Z" />
+    <timeTargetWasSelectedWithDropDown value="2023-07-01T12:37:33.161394400Z" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/res/layout/app_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/app_item.xml b/app/src/main/res/layout/app_item.xml
new file mode 100644
--- /dev/null	(date 1688211586977)
+++ b/app/src/main/res/layout/app_item.xml	(date 1688211586977)
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:padding="4dp">
+
+    <ImageView
+        android:layout_width="32dp"
+        android:layout_height="32dp"
+        android:layout_marginLeft="4dp"
+        android:layout_marginRight="4dp"
+        android:src="@mipmap/ic_launcher"
+        android:id="@+id/iconImage"/>
+
+    <LinearLayout
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:layout_marginLeft="4dp"
+        android:layout_marginRight="4dp">
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:orientation="horizontal">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:id="@+id/titleTextView"
+                android:textSize="14sp"
+                android:textStyle="bold"
+                android:text="App Title"/>
+            <Space
+                android:layout_width="4dp"
+                android:layout_height="0dp"
+                />
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="1.0"
+                android:id="@+id/versionId"/>
+
+
+
+        </LinearLayout>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:id="@+id/subTitle"
+            android:textSize="10sp"
+            android:text="com.applock.myapp"/>
+
+    </LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/applock/AppAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/applock/AppAdapter.java b/app/src/main/java/com/example/applock/AppAdapter.java
new file mode 100644
--- /dev/null	(date 1688212307335)
+++ b/app/src/main/java/com/example/applock/AppAdapter.java	(date 1688212307335)
@@ -0,0 +1,71 @@
+package com.example.applock;
+
+import android.content.Context;
+import android.content.pm.PackageInfo;
+import android.content.pm.PackageManager;
+import android.graphics.drawable.Drawable;
+import android.text.TextUtils;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ArrayAdapter;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import org.w3c.dom.Text;
+
+import java.util.List;
+
+public class AppAdapter extends ArrayAdapter<AppInfo> {
+
+    LayoutInflater layoutInflater;
+    PackageManager packageManager;
+    List<AppInfo> apps;
+    public AppAdapter(Context context, List<AppInfo> apps) {
+        super(context, R.layout.app_item, apps);
+        layoutInflater = LayoutInflater.from(context);
+        packageManager = context.getPackageManager();
+        this.apps = apps;
+    }
+
+    @NonNull
+    @Override
+    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {
+        AppInfo current = apps.get(position);
+        View view = convertView;
+        if (view==null){
+            view = layoutInflater.inflate(R.layout.app_item, parent, false);
+
+        }
+
+        TextView textViewTitle = (TextView) view.findViewById(R.id.titleTextView);
+        textViewTitle.setText(current.label);
+
+        try {
+            PackageInfo packageInfo = packageManager.getPackageInfo(current.info.packageName, 0);
+            if (!TextUtils.isEmpty(packageInfo.versionName)){
+                String versionInfo = String.format("%s", packageInfo.versionName);
+                TextView textVersion = (TextView) view.findViewById(R.id.versionId);
+                textVersion.setText(versionInfo);
+
+            }
+            if (TextUtils.isEmpty(current.info.packageName)){
+                TextView textSubsTitle = (TextView) view.findViewById(R.id.subTitle);
+                textSubsTitle.setText(current.info.packageName);
+            }
+
+        } catch (PackageManager.NameNotFoundException e) {
+            throw new RuntimeException(e);
+        }
+
+        ImageView imageView = (ImageView) view.findViewById(R.id.iconImage);
+        Drawable background = current.info.loadIcon(packageManager);
+        imageView.setBackground(background);
+
+
+        return view;
+    }
+}
